 (function(a){a.extend(a.fn,{livequery:function(b,c,d){var e=this,f;if(a.isFunction(b)){d=c;c=b;b=undefined}a.each(a.livequery.queries,function(g,h){if(e.selector==h.selector&&e.context==h.context&&b==h.type&&(!c||c.$lqguid==h.fn.$lqguid)&&(!d||d.$lqguid==h.fn2.$lqguid))return(f=h)&&false});f=f||new a.livequery(this.selector,this.context,b,c,d);f.stopped=false;f.run();return this},expire:function(b,c,d){var e=this;if(a.isFunction(b)){d=c;c=b;b=undefined}a.each(a.livequery.queries,function(f,g){if(e.selector==
g.selector&&e.context==g.context&&(!b||b==g.type)&&(!c||c.$lqguid==g.fn.$lqguid)&&(!d||d.$lqguid==g.fn2.$lqguid)&&!this.stopped)a.livequery.stop(g.id)});return this}});a.livequery=function(b,c,d,e,f){this.selector=b;this.context=c||document;this.type=d;this.fn=e;this.fn2=f;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;e.$lqguid=e.$lqguid||a.livequery.guid++;if(f)f.$lqguid=f.$lqguid||a.livequery.guid++;return this};a.livequery.prototype={stop:function(){var b=this;if(this.type)this.elements.unbind(this.type,
this.fn);else this.fn2&&this.elements.each(function(c,d){b.fn2.apply(d)});this.elements=[];this.stopped=true},run:function(){if(!this.stopped){var b=this,c=this.elements,d=a(this.selector,this.context),e=d.not(c);this.elements=d;if(this.type){e.bind(this.type,this.fn);c.length>0&&a.each(c,function(f,g){a.inArray(g,d)<0&&a.event.remove(g,b.type,b.fn)})}else{e.each(function(){b.fn.apply(this)});this.fn2&&c.length>0&&a.each(c,function(f,g){a.inArray(g,d)<0&&b.fn2.apply(g)})}}}};a.extend(a.livequery,
{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length)for(var b=a.livequery.queue.length;b--;)a.livequery.queries[a.livequery.queue.shift()].run()},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(b,c){if(a.fn[c]){var d=a.fn[c];a.fn[c]=function(){var e=d.apply(this,arguments);a.livequery.run();return e}}})},run:function(b){if(b!=
undefined)a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b);else a.each(a.livequery.queries,function(c){a.inArray(c,a.livequery.queue)<0&&a.livequery.queue.push(c)});a.livequery.timeout&&clearTimeout(a.livequery.timeout);a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){b!=undefined?a.livequery.queries[b].stop():a.each(a.livequery.queries,function(c){a.livequery.queries[c].stop()})}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr",
"removeAttr","addClass","removeClass","toggleClass","empty","remove");a(function(){a.livequery.play()});var i=a.prototype.init;a.prototype.init=function(b,c){var d=i.apply(this,arguments);if(b&&b.selector){d.context=b.context;d.selector=b.selector}if(typeof b=="string"){d.context=c||document;d.selector=b}return d};a.prototype.init.prototype=a.prototype})(jQuery);
 function getLocation(a,c){var e=a.coords.latitude,d=a.coords.longitude,f=a.coords.altitude,g=new google.maps.LatLng(e,d),b=null,h=new google.maps.Geocoder;if(f==null)f=0;h.geocode({latLng:g},function(j,k){if(k==google.maps.GeocoderStatus.OK){b=getLocationName(j);c({lat:e,lon:d,alt:f,name:b})}else alert("foobar")})}
function getLocationName(a){var c,e,d,f,g;for(i=0;i<a[0].address_components.length;i++){var b=a[0].address_components[i];if(jQuery.inArray("locality",b.types)>-1&&jQuery.inArray("political",b.types)&&typeof c==="undefined")c=b.short_name;else if(jQuery.inArray("administrative_area_level_1",b.types)>-1&&jQuery.inArray("political",b.types)&&typeof e==="undefined")e=b.short_name;else if(jQuery.inArray("administrative_area_level_2",b.types)>-1&&jQuery.inArray("political",b.types)&&typeof d==="undefined")d=
b.short_name;else if(jQuery.inArray("administrative_area_level_3",b.types)>-1&&jQuery.inArray("political",b.types)&&typeof f==="undefined")f=b.short_name;else if(jQuery.inArray("country",b.types)>-1&&jQuery.inArray("political",b.types)&&typeof g==="undefined")g=b.short_name}a="";if(c!=undefined)a+=c;if(e!=undefined){if(a.length)a+=", ";a+=e}else if(d!=undefined){if(a.length)a+=", ";a+=d}else if(f!=undefined){if(a.length)a+=", ";a+=f}if(g!=undefined){if(a.length)a+=", ";a+=g}return a}
function flash_message(a,c,e){e=typeof e=="undefined"?true:false;var d=$("#flash-message");c='<div data-alert="alert" class="alert fade in alert-'+c+'">';c+='<a class="close" data-dismiss="alert" href="#">&times;</a>';c=c+"<p>"+a+"</p></div>";d.hide();d.html(c);d.fadeIn();e&&setTimeout(function(){d.fadeOut()},4E3);return true}
$(document).ready(function(){$(".dropdown-toggle").click(function(a){a.preventDefault();$(this).parent("li").toggleClass("open")});$(".passes-popover-left").popover({delayIn:200});$(".passes-popover-right").popover({delayIn:200,placement:"left"});$(".popover-below").popover({delayIn:200,placement:"bottom"})});
 (function(d){var h=function(a,b){this.init("tooltip",a,b)};h.prototype={constructor:h,init:function(a,b,c){this.type=a;this.$element=d(b);this.options=this.getOptions(c);this.enabled=true;if(this.options.trigger=="click")this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if(this.options.trigger!="manual"){a=this.options.trigger=="hover"?"mouseenter":"focus";b=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,
d.proxy(this.enter,this));this.$element.on(b+"."+this.type,this.options.selector,d.proxy(this.leave,this))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,a,this.$element.data());if(a.delay&&typeof a.delay=="number")a.delay={show:a.delay,hide:a.delay};return a},enter:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show)return b.show();
clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){b.hoverState=="in"&&b.show()},b.options.delay.show)},leave:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();b.hoverState="out";this.timeout=setTimeout(function(){b.hoverState=="out"&&b.hide()},b.options.delay.hide)},show:function(){var a,b,c,e,i,f,g;if(this.hasContent()&&this.enabled){a=this.tip();
this.setContent();this.options.animation&&a.addClass("fade");f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;b=/in/.test(f);a.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element);c=this.getPosition(b);e=a[0].offsetWidth;i=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case "bottom":g={top:c.top+c.height,left:c.left+c.width/2-e/2};break;case "top":g={top:c.top-i,left:c.left+c.width/2-e/2};break;case "left":g=
{top:c.top+c.height/2-i/2,left:c.left-e};break;case "right":g={top:c.top+c.height/2-i/2,left:c.left+c.width};break}a.offset(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var c=setTimeout(function(){b.off(d.support.transition.end).detach()},500);b.one(d.support.transition.end,function(){clearTimeout(c);b.detach()})}var b=
this.tip();b.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?a():b.detach();return this},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("data-original-title")!="string")a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a=
this.$element,b=this.options;return a.attr("data-original-title")||(typeof b.title=="function"?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=this.$tip||d(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.options=this.$element=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=d(a.currentTarget)[this.type](this._options).data(this.type);
a[a.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var j=d.fn.tooltip;d.fn.tooltip=function(a){return this.each(function(){var b=d(this),c=b.data("tooltip"),e=typeof a=="object"&&a;c||b.data("tooltip",c=new h(this,e));typeof a=="string"&&c[a]()})};d.fn.tooltip.Constructor=h;d.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger:"hover",title:"",delay:0,html:false};d.fn.tooltip.noConflict=function(){d.fn.tooltip=j;return this}})(window.jQuery);
 (function(b){var e=function(a,c){this.init("popover",a,c)};e.prototype=b.extend({},b.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var a=this.tip(),c=this.getTitle(),d=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content")[this.options.html?"html":"text"](d);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,c=this.options;
return a.attr("data-content")||(typeof c.content=="function"?c.content.call(a[0]):c.content)},tip:function(){if(!this.$tip)this.$tip=b(this.options.template);return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var f=b.fn.popover;b.fn.popover=function(a){return this.each(function(){var c=b(this),d=c.data("popover"),g=typeof a=="object"&&a;d||c.data("popover",d=new e(this,g));typeof a=="string"&&d[a]()})};b.fn.popover.Constructor=e;b.fn.popover.defaults=
b.extend({},b.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'});b.fn.popover.noConflict=function(){b.fn.popover=f;return this}})(window.jQuery);
 (function(a){var g=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};g.prototype.close=function(b){function e(){d.trigger("closed").remove()}var c=a(this),f=c.attr("data-target"),d;if(!f)f=(f=c.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,"");d=a(f);b&&b.preventDefault();d.length||(d=c.hasClass("alert")?c:c.parent());d.trigger(b=a.Event("close"));if(!b.isDefaultPrevented()){d.removeClass("in");a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,e):e()}};var h=a.fn.alert;
a.fn.alert=function(b){return this.each(function(){var e=a(this),c=e.data("alert");c||e.data("alert",c=new g(this));typeof b=="string"&&c[b].call(e)})};a.fn.alert.Constructor=g;a.fn.alert.noConflict=function(){a.fn.alert=h;return this};a(document).on("click.alert.data-api",'[data-dismiss="alert"]',g.prototype.close)})(window.jQuery);
 (function(b){var f=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.collapse.defaults,c);if(this.options.parent)this.$parent=b(this.options.parent);this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var a,c,d,e;if(!this.transitioning){a=this.dimension();c=b.camelCase(["scroll",a].join("-"));if((d=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&d.length){if((e=d.data("collapse"))&&
e.transitioning)return;d.collapse("hide");e||d.data("collapse",null)}this.$element[a](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[a](this.$element[0][c])}},hide:function(){var a;if(!this.transitioning){a=this.dimension();this.reset(this.$element[a]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[a](0)}},reset:function(a){var c=this.dimension();this.$element.removeClass("collapse")[c](a||"auto");this.$element[a!==null?"addClass":
"removeClass"]("collapse");return this},transition:function(a,c,d){var e=this,g=function(){c.type=="show"&&e.reset();e.transitioning=0;e.$element.trigger(d)};this.$element.trigger(c);if(!c.isDefaultPrevented()){this.transitioning=1;this.$element[a]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,g):g()}},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var h=b.fn.collapse;b.fn.collapse=function(a){return this.each(function(){var c=
b(this),d=c.data("collapse"),e=typeof a=="object"&&a;d||c.data("collapse",d=new f(this,e));typeof a=="string"&&d[a]()})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=f;b.fn.collapse.noConflict=function(){b.fn.collapse=h;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(a){var c=b(this),d;a=c.attr("data-target")||a.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");d=b(a).data("collapse")?"toggle":c.data();c[b(a).hasClass("in")?
"addClass":"removeClass"]("collapsed");b(a).collapse(d)})})(window.jQuery);
